(()=>{function e(e,a,t){const n=document.querySelector(".alert");n&&n.remove();const r=document.createElement("DIV");r.innerHTML=`\n            <div class="alert">\n                <div class="${a}">\n                    ${e}\n                </div>\n            </div>\n        `;const o=document.querySelector(""+t);o.parentElement.insertBefore(r,o),setTimeout(()=>{r.remove()},5e3)}function a(){const e=new URLSearchParams(window.location.search);return Object.fromEntries(e).url}document.querySelector("#agregar-tarea").addEventListener("click",(function(){const t=document.createElement("DIV");t.classList.add("modal"),t.innerHTML='\n            <form class="form nueva-tarea">\n                <legend>Añade una tarea</legend>\n                <div class="campo">\n                    <label class="bg-azul">Tarea</label>\n                    <input\n                        type="text"\n                        name="tarea"\n                        placeholder="Añadir tarea"\n                        id="tarea"\n                        class="col-span-2"\n                    />\n                </div>\n                <div class="opciones">\n                    <input type="submit" class="submit-nueva-tarea" valuea="Añadir Tarea"/>\n                    <button type="button" class="cerrar-modal" >Cancelar</button>\n                </div>\n            </form>\n        ',document.querySelector("body").appendChild(t),setTimeout(()=>{document.querySelector(".form").classList.add("animar")},10),t.addEventListener("click",n=>{n.preventDefault();const r=n.target.classList;if(r.contains("cerrar-modal")||r.contains("modal")){document.querySelector(".form").classList.add("cerrar"),setTimeout(()=>{t.remove()},150)}r.contains("submit-nueva-tarea")&&function(){const t=document.querySelector("#tarea").value.trim();""===t?e("El nombre de la tarea es Obligatorio","err",".form.nueva-tarea .campo"):async function(t){const n=new FormData;n.append("data",JSON.stringify({tarea:t,proyecto:{url:a()}}));try{const a="/api/task/create",t=await fetch(a,{method:"POST",body:n}),r=await t.text();console.log(r),r.res||e("No se pudo crear la tarea","err",".form.nueva-tarea .campo")}catch(e){console.log(e)}}(t)}()})}))})();
//# sourceMappingURL=tareas.js.map
