{"version":3,"sources":["citas.js"],"names":["Pasos","inicial","final","current","Cita","nombre","fecha","hora","servicios","appCitas","tabs","botonesPaginador","paginaAnterior","paginaSiguiente","citasAPI","document","querySelector","value","console","log","mostrarSeccion","paso","querySelectorAll","forEach","seccion","classList","remove","add","cambiarColorBotones","boton","parseInt","dataset","addEventListener","event","target","mostrarServicios","servicio","id","precio","nombreServicio","createElement","textContent","precioServicio","botonAgregarServicio","botonesBox","append","servicioBox","appendChild","removerServicio","async","url","res","fetch","json","error"],"mappings":"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","file":"citas.js","sourcesContent":["const Pasos = {\r\n    inicial: 1,\r\n    final: 3,\r\n    current: 1\r\n}\r\nconst Cita = {\r\n    nombre: \"\",\r\n    fecha: \"\",\r\n    hora: \"\",\r\n    servicios: {}\r\n}\r\nfunction appCitas() {\r\n    tabs(); // Cambia la seccion cuando se presionen los tabs\r\n    botonesPaginador();\r\n    paginaAnterior();\r\n    paginaSiguiente();\r\n    citasAPI();\r\n    (() => {\r\n        Cita.nombre = document.querySelector('#nombre').value;\r\n        Cita.fecha = document.querySelector('#fecha').value\r\n        Cita.hora = document.querySelector('#hora').value\r\n        console.log(\r\n            document.querySelector('#fecha')\r\n        )\r\n    })();\r\n} appCitas();\r\nfunction mostrarSeccion(paso) {\r\n    // Seleccionar la seccion con el paso...\r\n    const secciones = document.querySelectorAll('.seccion');\r\n    secciones.forEach( seccion => {\r\n        seccion.classList.remove('mostrar');\r\n    });\r\n    const seccion = document.querySelector(`#paso-${paso}`);\r\n    seccion.classList.add('mostrar');\r\n}\r\nfunction cambiarColorBotones(paso) {\r\n    const botones = document.querySelectorAll('.tabs button');\r\n    botones.forEach( boton => {\r\n        boton.classList.remove('actual');\r\n        if(paso === parseInt(boton.dataset.paso)) {\r\n            boton.classList.add('actual');\r\n        }\r\n    });\r\n}\r\nfunction botonesPaginador() {\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n    if(Pasos.current === 1) paginaAnterior.classList.add('ocultar');\r\n    else if(Pasos.current === 3) paginaSiguiente.classList.add('ocultar');\r\n    else {\r\n        paginaSiguiente.classList.remove('ocultar');\r\n        paginaAnterior.classList.remove('ocultar');\r\n    }\r\n}\r\nfunction tabs() {\r\n    const botones = document.querySelectorAll('.tabs button');\r\n    botones.forEach( boton => {\r\n        boton.addEventListener('click', event => {\r\n            Pasos.current = parseInt(event.target.dataset.paso);\r\n            mostrarSeccion(Pasos.current);\r\n            botonesPaginador();\r\n            cambiarColorBotones(Pasos.current);\r\n        })\r\n    });\r\n}\r\nfunction paginaAnterior() {\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    paginaAnterior.addEventListener('click', () => {\r\n        if(Pasos.current <= Pasos.inicial) {\r\n            Pasos.current = 1;\r\n            return;\r\n        }\r\n        Pasos.current--;\r\n        mostrarSeccion(Pasos.current);\r\n        botonesPaginador();\r\n        cambiarColorBotones(Pasos.current);\r\n    })\r\n}\r\nfunction paginaSiguiente() {\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n    paginaSiguiente.addEventListener('click', () => {\r\n        if(Pasos.current >= Pasos.final) {\r\n            Pasos.current = 3;\r\n            return;\r\n        }\r\n        Pasos.current++;\r\n        mostrarSeccion(Pasos.current);\r\n        botonesPaginador();\r\n        cambiarColorBotones(Pasos.current);\r\n    })\r\n}\r\nfunction mostrarServicios(servicios = []) {\r\n    servicios.forEach( servicio => {\r\n        const {id, nombre, precio } = servicio;\r\n\r\n        // Nombre\r\n        const nombreServicio = document.createElement('P');\r\n        nombreServicio.classList.add('nombre-servicio');\r\n        nombreServicio.textContent = nombre;\r\n\r\n        // Precio\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.classList.add('precio-servicio');\r\n        precioServicio.textContent = `$${precio}`;\r\n\r\n        // Boton agregar\r\n        const botonAgregarServicio = document.createElement(\"LI\");\r\n        botonAgregarServicio.classList.add('fa-solid');\r\n        botonAgregarServicio.classList.add('fa-plus');\r\n\r\n        // Caja para botones\r\n        const botonesBox = document.createElement(\"DIV\");\r\n        botonesBox.classList.add('botonesBox');\r\n        botonesBox.append(botonAgregarServicio);\r\n\r\n        // Contenedor\r\n        const servicioBox = document.createElement('DIV');\r\n        servicioBox.classList.add('servicio');\r\n        servicioBox.dataset.id = id;\r\n        \r\n        servicioBox.append(nombreServicio, precioServicio, botonesBox);\r\n\r\n        document.querySelector('#servicios').appendChild(servicioBox);\r\n\r\n        botonAgregarServicio.addEventListener('click', () => {\r\n            servicio = Cita.servicios[`${id}`];\r\n            if(servicio) {\r\n                delete Cita.servicios[`${id}`];\r\n                botonAgregarServicio.classList.remove('fa-minus');\r\n                botonAgregarServicio.classList.add('fa-plus');\r\n                servicioBox.classList.remove('azul');\r\n            } else {\r\n                Cita.servicios[`${id}`] = {\r\n                    nombre: nombre,\r\n                    precio: precio\r\n                }\r\n                botonAgregarServicio.classList.remove('fa-plus');\r\n                botonAgregarServicio.classList.add('fa-minus');\r\n                servicioBox.classList.add('azul');\r\n            } \r\n            console.log(Cita);\r\n        });\r\n\r\n    });\r\n}\r\nfunction removerServicio() {\r\n    \r\n}\r\nasync function citasAPI() {\r\n    try {\r\n        const url = \"http://localhost:3000/api/servicios\";\r\n        const res = await fetch(url);\r\n        const servicios = await res.json();\r\n        mostrarServicios(servicios);\r\n        \r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\n\r\n\r\n"]}