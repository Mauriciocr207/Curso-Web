(()=>{if(document.querySelector("#horas")){let r={id_categoria:"",dia:""};const t=document.querySelector('[name="id_categoria"]'),c=document.querySelectorAll('[name="dia"]'),s=document.querySelector('[name="id_dia"]'),i=document.querySelector('[name="id_hora"]');r[t.name]=t.value,r[c[0].name]=s.value,c.forEach(e=>{e.value===s.value&&(e.checked=!0)}),Object.values(r).includes("")||a();function e(e){r[e.target.name]=e.target.value,i.value="",s.value="";const o=document.querySelector(".horas__hora--seleccionada");o&&o.classList.remove("horas__hora--seleccionada"),Object.values(r).includes("")||a()}async function a(){const{id_categoria:e,dia:a}=r,t=`/api/eventos-horarios?id_dia=${a}&id_categoria=${e}`,c=await fetch(t);!function(e=[]){const a=document.querySelectorAll("#horas li");a.forEach(e=>e.classList.add("horas__hora--deshabilitada"));const r=e.map(e=>e.id_hora),t=Array.from(a);t.filter(e=>!r.includes(parseInt(e.dataset.idHora))).forEach(e=>e.classList.remove("horas__hora--deshabilitada"));document.querySelectorAll(".horas__hora").forEach(e=>e.removeEventListener("click",o));document.querySelectorAll("#horas li:not(.horas__hora--deshabilitada)").forEach(e=>e.addEventListener("click",o))}(await c.json())}function o(e){const a=document.querySelector(".horas__hora--seleccionada");a&&a.classList.remove("horas__hora--seleccionada"),e.target.classList.add("horas__hora--seleccionada"),i.value=e.target.dataset.idHora,s.value=document.querySelector('[name="dia"]:checked').value}document.querySelectorAll(".horas__hora").forEach(e=>{e.dataset.idHora===i.value&&e.classList.add("horas__hora--seleccionada")}),t.addEventListener("input",e),c.forEach(a=>a.addEventListener("input",e))}})();
//# sourceMappingURL=horas.js.map
